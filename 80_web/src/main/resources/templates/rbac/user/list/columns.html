<th:block th:fragment="parts">
<script th:inline="javascript">
    store.columns = [
        {title: '名称', key: 'name'},
        {title: '最后登录系统', key: 'systemName'},
        {title: '用户类型', key: 'userType', render: function (h, p) {
                var label = '';
                var tmp = '' + p.row.userType;
                p.row.userType = tmp;
                if (tmp === '0') { label = '未审核' }
                if (tmp === '1') { label = '普通用户' }
                if (tmp === '99') { label = '超级用户' }
                return h('div', [
                    h('label', {
                        props: {
                            type: 'primary',
                            size: 'small'
                        },
                        style: {
                            marginRight: '5px'
                        }
                    }, label)
                ]);
            }
        },
        {title: '手机', key: 'telephone'},
        {title: '登录名称', key: 'loginName'},
        {title: '备注', key: 'remark'},
        {title: '操作', key: 'action',
            render: function (h, p) {
                return h('Dropdown',{
                    props:{
                        trigger:"click",
                        transfer: true  //此参数避免下拉框在边界时，被表格遮住
                    },
                    on:{
                        'on-click': (value)=>{
                            if (value === "role") {
                                methods.editRole(p.row)
                            }
                            if (value === "edit") {
                                methods.edit(p.row)
                            }
                            if (value === "delete") {
                                methods.delete(p.row)
                            }
                        }
                    }
                }, [
                    h('a',[
                        h('span', '管理'),
                        h('Icon',{
                            props: {
                                type: 'md-arrow-dropdown',
                                size:'18'
                            }
                        })
                    ]),
                    h('DropdownMenu',{
                            slot: "list"
                        },
                        [
                            h('DropdownItem',{
                                props:{
                                    name: 'role'
                                }
                            }, '角色'),
                            h('DropdownItem',{
                                props:{
                                    name: 'edit'
                                }
                            }, '修改'),
                            h('DropdownItem',{
                                props:{
                                    name: 'delete'
                                }
                            }, '删除')
                        ]
                    )
                ]);
            }
        }
    ];
</script>
</th:block>